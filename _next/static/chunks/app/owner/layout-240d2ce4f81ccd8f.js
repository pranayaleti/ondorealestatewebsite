(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1164,4181],{6707:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AuthProvider:()=>u});var a=r(95155),n=r(12115),s=r(20063);let o=(0,n.createContext)(void 0);function u(e){let{children:t}=e,[r,u]=(0,n.useState)(null),[l,i]=(0,n.useState)(!0),c=(0,s.useRouter)();(0,n.useEffect)(()=>{(async()=>{let e=localStorage.getItem("Real EstateUser");if(e)try{u(JSON.parse(e))}catch(e){localStorage.removeItem("Real EstateUser")}i(!1)})()},[]);let m=async(e,t,r)=>{i(!0);try{return new Promise(a=>{setTimeout(()=>{try{if(!e||!t||!r){i(!1),a(!1);return}let n=null;"tenant"===r?n={id:"t-123",name:"John Smith",email:e,role:"tenant",avatar:"/abstract-geometric-shapes.png"}:"owner"===r?n={id:"o-456",name:"Sarah Johnson",email:e,role:"owner",avatar:"/abstract-geometric-shapes.png"}:"admin"===r&&(n={id:"a-789",name:"Admin User",email:e,role:"admin",avatar:"/abstract-geometric-shapes.png"}),n?(u(n),localStorage.setItem("Real EstateUser",JSON.stringify(n)),i(!1),a(!0)):(i(!1),a(!1))}catch(e){i(!1),a(!1)}},1e3)})}catch(e){return i(!1),!1}};return(0,a.jsx)(o.Provider,{value:{user:r,login:m,logout:()=>{u(null),localStorage.removeItem("Real EstateUser"),c.push("/")},isLoading:l},children:t})}let l=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},20063:(e,t,r)=>{"use strict";var a=r(47260);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},35299:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},68176:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(95155),n=r(12115),s=r(20063),o=r(6707),u=r(35299);function l(e){let{children:t,requiredRole:r}=e,{user:l,isLoading:i}=(0,o.A)(),c=(0,s.useRouter)();return((0,n.useEffect)(()=>{i||l?!i&&r&&(null==l?void 0:l.role)!==r&&((null==l?void 0:l.role)==="tenant"?c.push("/tenant"):(null==l?void 0:l.role)==="owner"?c.push("/owner"):c.push("/")):c.push("/login")},[l,i,c,r]),i)?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)(u.A,{className:"h-8 w-8 animate-spin text-primary"})}):!l||r&&l.role!==r?null:(0,a.jsx)(a.Fragment,{children:t})}},71847:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(12115);let n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:l,className:i="",children:c,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...s,width:o,height:o,stroke:r,strokeWidth:l?24*Number(u)/Number(o):u,className:n("lucide",i),...h},[...m.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:u,...l}=r;return(0,a.createElement)(o,{ref:s,iconNode:t,className:n("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),u),...l})});return r.displayName="".concat(e),r}},85470:(e,t,r)=>{Promise.resolve().then(r.bind(r,68176)),Promise.resolve().then(r.t.bind(r,52619,23))}},e=>{e.O(0,[2619,8441,1255,7358],()=>e(e.s=85470)),_N_E=e.O()}]);