(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672,5220],{20063:(e,r,t)=>{"use strict";var n=t(47260);t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},35299:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(71847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},64944:(e,r,t)=>{"use strict";t.d(r,{RoleGuard:()=>l});var n=t(95155),a=t(12115),s=t(20063),u=t(35299),i=t(47031);let c=["public","tenant","owner","admin"];function l(e){var r,t;let{children:l,allowedRoles:o,redirectTo:d}=e,{user:m,isLoading:h}=(0,i.A)(),f=(0,s.useRouter)(),p="string"==typeof(t=r=null==m?void 0:m.role)&&c.includes(t)?r:"public",w=o.includes(p);return((0,a.useEffect)(()=>{if(!h){if(!m&&!o.includes("public"))return void f.replace("/login");w||f.replace(null!=d?d:function(e){switch(e){case"admin":return"/dashboard";case"owner":return"/owner";case"tenant":return"/tenant";case"public":return"/"}throw Error("Unhandled role: ".concat(String(e)))}(p))}},[o,w,h,d,p,f,m]),h)?(0,n.jsx)("div",{className:"flex min-h-[60vh] items-center justify-center",children:(0,n.jsx)(u.A,{className:"h-6 w-6 animate-spin text-primary"})}):(m||o.includes("public"))&&w?(0,n.jsx)(n.Fragment,{children:l}):null}},71847:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var n=t(12115);let a=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,n.forwardRef)((e,r)=>{let{color:t="currentColor",size:u=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:l="",children:o,iconNode:d,...m}=e;return(0,n.createElement)("svg",{ref:r,...s,width:u,height:u,stroke:t,strokeWidth:c?24*Number(i)/Number(u):i,className:a("lucide",l),...m},[...d.map(e=>{let[r,t]=e;return(0,n.createElement)(r,t)}),...Array.isArray(o)?o:[o]])}),i=(e,r)=>{let t=(0,n.forwardRef)((t,s)=>{let{className:i,...c}=t;return(0,n.createElement)(u,{ref:s,iconNode:r,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...c})});return t.displayName="".concat(e),t}},95886:(e,r,t)=>{Promise.resolve().then(t.bind(t,64944))}},e=>{e.O(0,[7031,8441,1255,7358],()=>e(e.s=95886)),_N_E=e.O()}]);