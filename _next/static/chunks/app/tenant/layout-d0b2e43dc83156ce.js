(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1164,4181],{6707:(e,r,t)=>{"use strict";t.d(r,{A:()=>l,AuthProvider:()=>u});var a=t(95155),n=t(12115),s=t(20063);let o=(0,n.createContext)(void 0);function u(e){let{children:r}=e,[t,u]=(0,n.useState)(null),[l,i]=(0,n.useState)(!0),c=(0,s.useRouter)();(0,n.useEffect)(()=>{(async()=>{let e=localStorage.getItem("Real EstateUser");if(e)try{u(JSON.parse(e))}catch(e){localStorage.removeItem("Real EstateUser")}i(!1)})()},[]);let m=async(e,r,t)=>{i(!0);try{return new Promise(a=>{setTimeout(()=>{try{if(!e||!r||!t){i(!1),a(!1);return}let n=null;"tenant"===t?n={id:"t-123",name:"John Smith",email:e,role:"tenant",avatar:"/abstract-geometric-shapes.png"}:"owner"===t?n={id:"o-456",name:"Sarah Johnson",email:e,role:"owner",avatar:"/abstract-geometric-shapes.png"}:"admin"===t&&(n={id:"a-789",name:"Admin User",email:e,role:"admin",avatar:"/abstract-geometric-shapes.png"}),n&&1?(u(n),localStorage.setItem("Real EstateUser",JSON.stringify(n)),i(!1),a(!0)):(i(!1),a(!1))}catch(e){i(!1),a(!1)}},1e3)})}catch(e){return i(!1),!1}};return(0,a.jsx)(o.Provider,{value:{user:t,login:m,logout:()=>{u(null),localStorage.removeItem("Real EstateUser"),c.push("/")},isLoading:l},children:r})}let l=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},20063:(e,r,t)=>{"use strict";var a=t(47260);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},35299:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(71847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},68176:(e,r,t)=>{"use strict";t.d(r,{default:()=>l});var a=t(95155),n=t(12115),s=t(20063),o=t(6707),u=t(35299);function l(e){let{children:r,requiredRole:t}=e,{user:l,isLoading:i}=(0,o.A)(),c=(0,s.useRouter)();return((0,n.useEffect)(()=>{i||l?!i&&t&&(null==l?void 0:l.role)!==t&&((null==l?void 0:l.role)==="tenant"?c.push("/tenant"):(null==l?void 0:l.role)==="owner"?c.push("/owner"):c.push("/")):c.push("/login")},[l,i,c,t]),i)?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)(u.A,{className:"h-8 w-8 animate-spin text-primary"})}):!l||t&&l.role!==t?null:(0,a.jsx)(a.Fragment,{children:r})}},71847:(e,r,t)=>{"use strict";t.d(r,{A:()=>u});var a=t(12115);let n=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:l,className:i="",children:c,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:r,...s,width:o,height:o,stroke:t,strokeWidth:l?24*Number(u)/Number(o):u,className:n("lucide",i),...h},[...m.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(c)?c:[c]])}),u=(e,r)=>{let t=(0,a.forwardRef)((t,s)=>{let{className:u,...l}=t;return(0,a.createElement)(o,{ref:s,iconNode:r,className:n("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),u),...l})});return t.displayName="".concat(e),t}},85470:(e,r,t)=>{Promise.resolve().then(t.bind(t,68176)),Promise.resolve().then(t.t.bind(t,52619,23))}},e=>{e.O(0,[2619,8441,1255,7358],()=>e(e.s=85470)),_N_E=e.O()}]);